<!DOCTYPE html>
<html>
  <head>
    <title>react</title>
    <!-- 引入React核心库 -->
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <!-- 引入 react-dom： 用来支持 react 的dom操作(渲染) -->
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <!-- 引入 babel：用来将引入 babel：用来将jsx语法转换成js -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <!-- 准备好一个容器 -->
    <div id="app"></div>

    <!-- script的类型必须是text/babel -->
    <script type="text/babel">
        // 创建类式组件
        class Login extends React.Component {
          /** 
           * 高阶函数:如果一个函数符合下面2个规范中的任何一个，那该函数就是高阶函数。
           *    1.若A函数，接收的参数是一个函数，那么A就可以称之为高阶函数。
           *    2.若A函数，调用的返回值依然是一个函数，那么A就可以称之为高阶函数。
           *    常见的高阶函数有:Promise、 setTimeout、arr.map()等等
           * 
           * 函数的柯里化: -通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式。
          */
          render(){
            return (
                <form action="http://www.atguigu.com" onSubmit={this.submit}>
                    用户名：<input type="text" onChange={this.saveFormData("username")} name="username" /><br/>
                    密&emsp;码：<input type="password" onChange={this.saveFormData("password")} name="password" /><br/>
                    <button>登录</button>
                </form>
            )
          }
          submit = (event) => {
              event.preventDefault();//阻止表单提交
              alert(`你输入的用户名是${this.state.username},密码是${this.state.password}`)
          }
          //保存表单数据到状态中
          saveFormData = (dataType) =>{
            // console.log(dataType);
            return (event)=>{
                console.log(event.target.value);
                this.setState({[dataType]: event.target.value})
            }
          }
        }
        
        // 渲染组件到页面
        ReactDOM.render(<Login />,document.getElementById("app"));
    </script>
  </body>
</html>